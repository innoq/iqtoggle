/*! iQToggle - v0.1.2 -   2012-2014-02-17
  * https://github.com/innoq/iqtoggle
  * Copyright 2014 innoQ Deutschland GmbH.
  * Licensed under the Apache License, Version 2.0.
  */

!function(a){function b(b,c){this.el=a(b),this.provider=c.provider,this.what=c.what||"visible";var d=a.proxy(this,"updateState");this.provider.each(function(b,c){var e=a(c);e.is("option")&&(e=e.parent()),e.on("change",d)}),this.updateState();var e=this.provider.filter("input:radio").map(function(b,c){var d=a(c).attr("name"),e='input:radio[name="'+d+'"]',f=a(e);return Array.prototype.slice.call(f)});a.unique(e).on("change",a.proxy(this,"onRadioChange"))}b.prototype.onRadioChange=function(b){this.previousRadio&&this.previousRadio[0]!==b.currentTarget&&this.previousRadio.trigger("change"),this.previousRadio=a(b.currentTarget)},b.prototype.updateState=function(){var b=!1;this.provider.each(function(c,d){var e=a(d),f=e.is("option")?"selected":"checked";return b=b||e.prop(f),!b}),"visible"===this.what?this.el[b?"show":"hide"]():"invisible"===this.what?this.el[b?"hide":"show"]():"enabled"===this.what?this.el.prop("disabled",!b):"disabled"===this.what&&this.el.prop("disabled",b)},a.fn.toggleIfSelected=function(c,d,e){var f=a(c,e);this.each(function(a,c){new b(c,{provider:f,what:d})})}}(jQuery);